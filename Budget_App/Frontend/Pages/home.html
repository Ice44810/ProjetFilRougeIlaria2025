<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Budget App</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../Pages/style.css">
</head>

<body>
    <!-- partie header -->
    <header class="mobile-header">
        <div class="container-fluid">
            <div class="header-top d-flex justify-content-between align-items-center p-3">
                <div class="user-info d-flex align-items-center">
                    <img src="./images/profil.jpg" alt="Profile" class="rounded-circle me-3" width="50" height="50">
                    <div>
                        <a href="./profile.html" class="text-decoration-none text-dark">
                            <h1 class="username mb-0">Themesflat</h1>
                        </a>
                        <p class="slogan mb-0">Economisons votre argent!</p>
                    </div>
                </div>
                <div class="header-icons">
                    <i class="bi bi-grid-fill fs-4 me-3"></i>
                    <a href="./notifications.html" class="notification-link position-relative text-dark">
                        <i class="bi bi-bell-fill fs-4 notification-icon"></i>
                        <span class="notification-badge position-absolute top-0 start-100 translate-middle badge rounded-circle bg-danger p-1 border border-light d-none">
                            <span class="visually-hidden">Nouvelles notifications</span>
                        </span>
                    </a>
                </div>
            </div>
            <div class="stats-section p-3 mx-2 mb-3">
                <div class="row g-0">
                    <div class="col-6 balance-col pe-2">
                        <p class="stat-label mb-1">Votre solde:</p>
                        <p class="stat-value text-black">€3 466,9</p>
                    </div>
                    <div class="col-6 reward-col ps-2">
                        <a href="./rewards.html" class="text-decoration-none text-dark d-block">
                            <p class="stat-label mb-1 text-end">Vos recompenses:</p>
                            <p class="stat-value text-end">
                                <i class="bi bi-gift-fill me-1"></i>
                                307 Point
                            </p>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </header> <!-- Fin partie header -->

    <main>
        <div class="quick-actions-section container-fluid mt-4 mb-4">
            <div class="row text-center">
                <div class="col-3">
                    <a href="./transfert.html" class="action-item">
                        <div class="action-icon-wrapper">
                            <i class="bi bi-currency-dollar fs-4"></i>
                            <i class="bi bi-arrow-down-up fs-6 transfer-arrow"></i>
                        </div>
                        <p class="mt-2 action-text">Transfert</p>
                    </a>
                </div>
                <div class="col-3">
                    <a href="./topup.html" class="action-item">
                        <div class="action-icon-wrapper">
                            <i class="bi bi-wallet fs-4"></i>
                            <i class="bi bi-currency-dollar fs-6 topup-dollar"></i>
                        </div>
                        <p class="mt-2 action-text">Recharges</p>
                    </a>
                </div>
                <div class="col-3">
                    <a href="./card.html" class="action-item">
                        <div class="action-icon-wrapper">
                            <i class="bi bi-credit-card fs-4"></i>
                            <i class="bi bi-credit-card-fill fs-6 card-fill"></i>
                        </div>
                        <div class="mt-2 action-text">Carte</div>
                    </a>
                </div>
                <div class=" col-3">
                    <a href="./myqr.html" class="action-item">
                        <div class="action-icon-wrapper">
                            <i class="bi bi-qr-code fs-4"></i>
                            <i class="bi bi-qr-code-scan fs-6 qr-scan"></i>
                        </div>
                        <p class="mt-2 action-text">Mon QR</p>
                    </a>
                </div>
            </div>
        </div>

        <!-- cette partie à retravailler -->
        <div class="container-fluid service-header mt-4 px-4">
            <div class="d-flex justify-content-between align-items-center">
                <h4 class="service-title mb-0">Vos services</h4>
                <a href="#collapseServices" id="toggleServices" class="view-all-link" data-bs-toggle="collapse" aria-expanded="false" aria-controls="collapseServices">
                    Tout voir <!-- permet de cacher des élémets sur une page -->
                </a>
            </div>
        </div>

        <div class="container-fluid service-grid mt-3 px-4 collapse show" id="collapseServices">
            <div class="row g-3">
                <div class="col-6 col-md-3">
                    <a href="./mobile.html" class="service-card text-center d-block p-3">
                        <i class="bi bi-phone fs-1 text-info"></i>
                        <p class="mt-2 mb-0">Mobile</p>
                    </a>
                </div>
                <div class="col-6 col-md-3">
                    <a href="./internet.html" class="service-card text-center d-block p-3">
                        <i class="bi bi-wifi fs-1 text-primary"></i>
                        <p class="mt-2 mb-0">Internet</p>
                    </a>
                </div>
                <div class="col-6 col-md-3">
                    <a href="./bill.html" class="service-card text-center d-block p-3">
                        <i class="bi bi-file-earmark-text fs-1 text-secondary"></i>
                        <p class="mt-2 mb-0">Facture</p>
                    </a>
                </div>
                <div class="col-6 col-md-3">
                    <a href="./electricity.html" class="service-card text-center d-block p-3">
                        <i class="bi bi-lightning-charge fs-1 text-warning"></i>
                        <p class="mt-2 mb-0">Electricité</p>
                    </a>
                </div>

                <div class="col-6 col-md-3">
                    <a href="./film.html" class="service-card text-center d-block p-3">
                        <i class="bi bi-film fs-1 text-danger"></i>
                        <p class="mt-2 mb-0">Film</p>
                    </a>
                </div>
                <div class="col-6 col-md-3">
                    <a href="./waterbill.html" class="service-card text-center d-block p-3">
                        <i class="bi bi-droplet fs-1 text-info"></i>
                        <p class="mt-2 mb-0">Facture Eau</p>
                    </a>
                </div>
                <div class="col-6 col-md-3">
                    <a href="./voucher.html" class="service-card text-center d-block p-3">
                        <i class="bi bi-percent fs-1 text-success"></i>
                        <p class="mt-2 mb-0">Bons de reduction</p>
                    </a>
                </div>
                <div class="col-6 col-md-3">
                    <a href="./market.html" class="service-card text-center d-block p-3">
                        <i class="bi bi-cart fs-1 text-warning"></i>
                        <p class="mt-2 mb-0">Marché</p>
                    </a>
                </div>
            </div>
        </div>

        <!-- 2ème partie tableau : contacts rescents -->
        <div class="container-fluid mt-4 px-4">
            <div class="d-flex justify-content-between align-items-center mb-3">
                <h4 class="service-title mb-0">Contacts Rescents</h4>
                <a href="#collapseContactsRecents" id="toggleContacts" class="view-all-link" data-bs-toggle="collapse" aria-expanded="false" aria-controls="collapseContactsRecents">
                    Tout voir <!-- permet de cacher des élémets sur une page -->
                </a>
            </div>

            <div class="collapse" id="collapseContactsRecents">
                <div class="row row-cols-3 row-cols-sm-4 row-cols-md-6 g-3 mb-4">
                    <div class="col text-center">
                        <img src="../Assets/esther.jpg" alt="Esther" class="rounded-circle mb-1" style="width: 60px; height: 60px; object-fit: cover;
                border: 3px solid transparent; padding: 2px;
                box-shadow: 0 0 0 1px #d3d3d3;">
                        <p class="small text-truncate mb-0">Esther</p>
                    </div>

                    <div class="col text-center">
                        <img src="../Assets/hawkins.jpg" alt="Esther" class="rounded-circle mb-1" style="width: 60px; height: 60px; object-fit: cover;
                border: 3px solid transparent; padding: 2px;
                box-shadow: 0 0 0 1px #d3d3d3;">
                        <p class="small text-truncate mb-0">Hawkins</p>
                    </div>

                    <div class="col text-center">
                        <img src="../Assets/jenny.jpg" alt="Esther" class="rounded-circle mb-1" style="width: 60px; height: 60px; object-fit: cover;
                border: 3px solid transparent; padding: 2px;
                box-shadow: 0 0 0 1px #d3d3d3;">
                        <p class="small text-truncate mb-0">Jenny</p>
                    </div>
                    <div class="col text-center">
                        <img src="../Assets/leslie.jpg" alt="Esther" class="rounded-circle mb-1" style="width: 60px; height: 60px; object-fit: cover;
                border: 3px solid transparent; padding: 2px;
                box-shadow: 0 0 0 1px #d3d3d3;">
                        <p class="small text-truncate mb-0">Leslie</p>
                    </div>

                    <div class="col text-center">
                        <img src="../Assets/jerome.jpg" alt="Esther" class="rounded-circle mb-1" style="width: 60px; height: 60px; object-fit: cover;
                border: 3px solid transparent; padding: 2px;
                box-shadow: 0 0 0 1px #d3d3d3;">
                        <p class="small text-truncate mb-0">Jerome</p>
                    </div>

                    <div class="col text-center">
                        <img src="../Assets/betty.jpg" alt="Esther" class="rounded-circle mb-1" style="width: 60px; height: 60px; object-fit: cover;
                border: 3px solid transparent; padding: 2px;
                box-shadow: 0 0 0 1px #d3d3d3;">
                        <p class="small text-truncate mb-0">Betty</p>
                    </div>

                    <!-- CARD 1 -->
                    <div class="d-flex justify-content-center">
                        <div class="card rounded-3 border-0" style="max-width: 300px; background-color: #ffda47; min-height: 180px;">
                            <div class="card-body p-3 d-flex align-items-center justify-content-between">
                                <div>
                                    <p class="text-muted small">Illustration ici</p>
                                </div>
                                <div class="text-end">
                                    <h3 class="fw-bold mb-2" style="color: #4a4a4a;">
                                        SHOPPING <br> EN LIGNE
                                    </h3>
                                    <button class="btn btn-sm text-white border-0" style="background-color: #ff69b4;">
                                        Plus
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- CARD 2 -->
                    <div class="card rounded-3 border-0" style="max-width: 300px; background-color: #47eaff; min-height: 180px;">
                        <div class="card-body p-3 d-flex align-items-center justify-content-between">
                            <div>
                                <p class="text-muted small">Illustration ici</p>
                            </div>
                            <div class="text-end">
                                <h3 class="fw-bold mb-2" style="color: #4a4a4a;">
                                    SHOPPING <br> EN LIGNE
                                </h3>
                                <button class="btn btn-sm text-white border-0" style="background-color: #ff69b4;">
                                    Plus
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- CARD 3 -->
                    <div class="card rounded-3 border-0" style="max-width: 300px; background-color: #b4b4b4; min-height: 180px;">
                        <div class="card-body p-3 d-flex align-items-center justify-content-between">
                            <div>
                                <p class="text-muted small">Illustration ici</p>
                            </div>
                            <div class="text-end">
                                <h3 class="fw-bold mb-2" style="color: #4a4a4a;">
                                    SHOPPING <br> EN LIGNE
                                </h3>
                                <button class="btn btn-sm text-white border-0" style="background-color: #ff69b4;">
                                    Plus
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- CARD 4 -->
                    <div class="card rounded-3 border-0" style="max-width: 300px; background-color: #46886c; min-height: 180px;">
                        <div class="card-body p-3 d-flex align-items-center justify-content-between">
                            <div>
                                <p class="text-muted small">Illustration ici</p>
                            </div>
                            <div class="text-end">
                                <h3 class="fw-bold mb-2" style="color: #4a4a4a;">
                                    SHOPPING <br> EN LIGNE
                                </h3>
                                <button class="btn btn-sm text-white border-0" style="background-color: #ff69b4;">
                                    Plus
                                </button>
                            </div>
                        </div>
                    </div>

                </div>

                <!-- CONTRÔLES -->
                <button class="carousel-control-prev" type="button" data-bs-target="#cardsCarousel" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon"></span>
                    <span class="visually-hidden">Précédent</span>
                </button>

                <button class="carousel-control-next" type="button" data-bs-target="#cardsCarousel" data-bs-slide="next">
                    <span class="carousel-control-next-icon"></span>
                    <span class="visually-hidden">Suivant</span>
                </button>
            </div>

        </div>
        </div>
        </div>
    </main>

    <!-- FOOTER -->
    <footer class="footer py-2">
        <div class="d-flex justify-content-around align-items-center">
            <a href="./home.html" class="active-link">
                <i class="bi bi-house-door-fill"></i>
                <span>Accueil</span>
            </a>
            <a href="./bankhistory.html" class="footer-link">
                <i class="bi bi-clock-history"></i>
                <span>Historique</span>
            </a>
            <a href="./myqr.html" class="footer-link">
                <i class="bi bi-qr-code-scan"></i>
                <span>QR</span>
            </a>
            <a href="./rewards.html" class="footer-link">
                <i class="bi bi-gift"></i>
                <span>Récompenses</span>
            </a>
            <a href="./profile.html" class="footer-link">
                <i class="bi bi-person"></i>
                <span>Profil</span>
            </a>
        </div>
    </footer>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {


            // NOTIFICATIONS

            const badge = document.querySelector('.notification-badge');
            const notificationLink = document.querySelector('.notification-link');

            function toggleNotificationBadge(show) {
                if (!badge) return;
                badge.classList.toggle('d-none', !show);
            }

            // Simulation : notifications présentes au chargement
            toggleNotificationBadge(true);

            if (notificationLink) {
                notificationLink.addEventListener('click', (e) => {
                    e.preventDefault();
                    toggleNotificationBadge(false);
                    // Redirection après action (optionnel)
                    window.location.href = notificationLink.getAttribute('href');
                });
            }


            // COLLAPSE CONTACTS RÉCENTS

            const contactsCollapse = document.getElementById('collapseContactsRecents');
            const toggleContacts = document.getElementById('toggleContacts');

            if (contactsCollapse && toggleContacts) {
                contactsCollapse.addEventListener('shown.bs.collapse', () => {
                    toggleContacts.textContent = 'Réduire';
                });

                contactsCollapse.addEventListener('hidden.bs.collapse', () => {
                    toggleContacts.textContent = 'Tout voir';
                });
            }


            // COLLAPSE SERVICES

            const servicesCollapse = document.getElementById('collapseServices');
            const toggleServices = document.getElementById('toggleServices');

            if (servicesCollapse && toggleServices) {
                servicesCollapse.addEventListener('shown.bs.collapse', () => {
                    toggleServices.textContent = 'Réduire';
                });

                servicesCollapse.addEventListener('hidden.bs.collapse', () => {
                    toggleServices.textContent = 'Tout voir';
                });
            }

            //INTERACTION CONTACTS

            const contacts = document.querySelectorAll('#collapseContactsRecents .col');

            contacts.forEach(contact => {
                contact.addEventListener('click', () => {
                    contacts.forEach(c => c.classList.remove('active-contact'));
                    contact.classList.add('active-contact');
                });
            });

        });
    </script>

</body>

</html>