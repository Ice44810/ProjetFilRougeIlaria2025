<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Saved Recipients - Budget App</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" />
</head>

<body>
    <!-- HEADER -->
    <header>
        <div class="d-flex justify-content-between align-items-center p-3 bg-white border-bottom">
            <button type="button" class="btn btn-link text-dark p-0 me-3">
                <i class="bi bi-arrow-left fs-5"></i>
            </button>
            <h5 class="flex-grow-1 text-center m-0 fw-bold">Saved Recipients</h5>
            <button type="button" class="btn btn-link text-dark p-0 ms-3">
                <i class="bi bi-plus-lg fs-5"></i>
            </button>
        </div>
    </header>

    <!-- Conteneur principal Flexbox pour l'alignement de l'en-tête -->
    <div class="d-flex align-items-center p-3 bg-white border-bottom gap-3">
        <button type="button" class="btn btn-link text-dark p-0">
            <i class="bi bi-x-lg fs-5"></i>
        </button>

        <!-- Zone de recherche FLEXIBLE -->
        <input type="text" class="form-control" id="searchInput" placeholder="Search recipient" aria-label="Search recipient">
        <button type="button" class="btn btn-link text-dark p-0">
            <i class="bi bi-search fs-5"></i>
        </button>

    </div>
    </div>
    <!-- Tableau -->
    <!-- faire de sorte que le tableau prenne toute la largeur -->
    <ul class="nav nav-tabs nav-fill mb-3" id="recipientTabs" role="tablist">
        <li class="nav-item">
            <button class="nav-link active" id="phone-tab" data-bs-toggle="tab" data-bs-target="#phone" type="button" role="tab" aria-controls="phone" aria-selected="true"> <!-- aria pour une meilleure accessibilité -->
                Phone
            </button>
        </li>
        <li class="nav-item">
            <button class="nav-link" id="bank-tab" data-bs-toggle="tab" data-bs-target="#bank" type="button" role="tab" aria-controls="bank" aria-selected="false">
                Bank Account
            </button>
        </li>
    </ul>
    <!-- Tableau contenu -->
    <div class="tab-content px-3" id="recipientTabsContent">
        <!-- Tableau téléphone -->
        <div class="tab-pane fade show active" id="phone" role="tabpanel">
            <div class="contact-item" data-bs-toggle="modal" data-bs-target="#contactModal" data-name="Andy Cody" data-number="**** **** **** 0674" data-email="josefa.joss@email.com">
                <img src="./images/Josefa Joss.jpg" alt="Josefa Joss" class="img-fluid rounded-circle" style="max-width: 50px" />
                <div>
                    <strong>Andy Cody</strong><br /><small>**** **** **** 0674</small>
                </div>
            </div>
            <div class="contact-item" data-bs-toggle="modal" data-bs-target="#contactModal" data-name="Alex Tran" data-number="**** **** **** 3216" data-email="alex.tran@email.com">
                <img src="./images/Alex Tran.jpg" alt="Alex Tran" class="img-fluid rounded-circle" style="max-width: 50px" />
                <div>
                    <strong>Alex Tran</strong><br /><small>**** **** **** 3216</small>
                </div>
            </div>
            <div class="contact-item" data-bs-toggle="modal" data-bs-target="#contactModal" data-name="Andy Cody" data-number="**** **** **** 0675" data-email="andy.cody@email.com">
                <img src="./images/Andy Cody.jpg" alt="Andy Cody" class="img-fluid rounded-circle" style="max-width: 50px" />
                <div>
                    <strong>Andy Cody</strong><br /><small>**** **** **** 0675</small>
                </div>
            </div>
            <div class="contact-item" data-bs-toggle="modal" data-bs-target="#contactModal" data-name="Alex Tran" data-number="**** **** **** 3216" data-email="kanope.francoise@email.com">
                <img src="./images/Kanope Francoise.jpg" alt="Kanope Francoise" class="img-fluid rounded-circle" style="max-width: 50px" />
                <div>
                    <strong>Kanope Francoise</strong><br /><small>**** **** **** 0543</small>
                </div>
            </div>
            <div class="contact-item" data-bs-toggle="modal" data-bs-target="#contactModal" data-name="Alex Tran" data-number="**** **** **** 3216" data-email="mallorie.jean@email.com">
                <img src="./images/Mallorie Jean.jpg" alt="Mallorie Jean" class="img-fluid rounded-circle" style="max-width: 50px" />
                <div>
                    <strong>Mallorie Jean</strong><br /><small>**** **** **** 3317</small>
                </div>
            </div>
        </div>
        <!-- Tableau des comptes bancaires -->
        <div class="tab-pane fade" id="bank" role="tabpanel">
            <div class="contact-item" data-bs-toggle="modal" data-bs-target="#contactModal" data-name="Themesflat" data-number="FR76 1234 5678 9012" data-email="themesflat@email.com">
                <img src="./images/Themesflat.jpg" alt="Themesflat" />
                <div>
                    <strong>Themesflat</strong><br /><small>FR76 1234 5678 9012</small>
                </div>
            </div>
        </div>
    </div>
    <!-- Détails du contact -->
    <div class="modal fade" id="contactModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Recipient Details</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body text-center">
                    <img id="contactImage" src="" alt="Contact" class="rounded-circle mb-3" width="80" height="80" />
                    <h6 id="contactName"></h6>
                    <p class="text-muted mb-1" id="contactNumber"></p>
                    <p class="text-muted small" id="contactEmail"></p>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-primary">Request</button><button class="btn btn-primary">Share</button><button class="btn btn-primary">Send Money</button>
                </div>
            </div>
        </div>
    </div>
    <script>
        // Remplissage automatique du modal avec les infos du contact cliqué
        const contactModal = document.getElementById("contactModal");
        contactModal.addEventListener("show.bs.modal", (event) => {
            const button = event.relatedTarget;
            const name = button.getAttribute("data-name");
            const number = button.getAttribute("data-number");
            const email = button.getAttribute("data-email");
            const img = button.querySelector("img").src;

            document.getElementById("contactName").textContent = name;
            document.getElementById("contactNumber").textContent = number;
            document.getElementById("contactEmail").textContent = email;
            document.getElementById("contactImage").src = img;
        });
        const RequestBtn = document.querySelector(".btn-primary");
        RequestBtn.addEventListener("click", () => {
            alert("Request Money feature coming soon!");
        });
        const ShareBtn = document.querySelectorAll(".btn-primary")[1];
        ShareBtn.addEventListener("click", () => {
            alert("Share feature coming soon!");
        });
        const SendMoneyBtn = document.querySelectorAll(".btn-primary")[2];
        SendMoneyBtn.addEventListener("click", () => {
            if (confirm("Do you want to send money to this recipient?")) {
                while (true) {
                    const amount = prompt("Enter amount to send:");
                    if (amount !== null && amount !== "" && !isNaN(amount) && Number(amount) > 0) {
                        alert(`You have sent $${Number(amount).toFixed(2)} to ${document.getElementById("contactName").textContent}.`);
                        break;
                    } else {
                        alert("Please enter a valid amount.");
                    }
                }
            }
        });
    </script>
    <!-- FOOTER -->
    <footer class="footer mt-5 py-3">
        <div class="d-flex justify-content-around">
            <a href="pages/home.html" class="text-decoration-none text-muted text-center"><i class="bi bi-house-door-fill fs-4"></i><br />Home</a><a href="pages/history.html" class="text-decoration-none text-muted text-center"><i class="bi bi-clock-history fs-4"></i><br />History</a><a href="pages/myqr.html" class="text-decoration-none text-muted text-center"><i class="bi bi-qr-code-scan fs-4"></i><br />My QR</a><a href="pages/rewards.html" class="text-decoration-none text-muted text-center"><i class="bi bi-gift fs-4"></i><br />Rewards</a><a href="pages/profile.html" class="text-decoration-none text-muted text-center"><i class="bi bi-person fs-4"></i><br />Profile</a>
        </div>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="./assets/app.js"></script>
</body>

</html>