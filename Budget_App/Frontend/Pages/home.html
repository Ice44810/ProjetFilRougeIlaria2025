<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Budget App</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet">
    <link rel="stylesheet" href="./style.css">
</head>

<body>
    <header class="mobile-header">
        <div class="container-fluid">
            <div class="header-top d-flex justify-content-between align-items-center p-3">
                <div class="user-info d-flex align-items-center">
                    <img src="./images/profil.jpg" alt="Profile" class="rounded-circle me-3" width="50" height="50">
                    <div>
                        <a href="./profile.html" class="text-decoration-none text-dark">
                            <h1 class="username mb-0">Themesflat</h1>
                        </a>
                        <p class="slogan mb-0">Let's save your money!</p>
                    </div>
                </div>
                <div class="header-icons">
                    <i class="bi bi-grid-fill fs-4 me-3"></i>
                    <a href="./notifications.html" class="notification-link position-relative text-dark">
                        <i class="bi bi-bell-fill fs-4 notification-icon"></i>
                        <span class="notification-badge position-absolute top-0 start-100 translate-middle badge rounded-circle bg-danger p-1 border border-light d-none">
                            <span class="visually-hidden">New notifications</span>
                        </span>
                    </a>
                </div>
            </div>
            <div class="stats-section p-3 mx-2 mb-3">
                <div class="row g-0">
                    <div class="col-6 balance-col pe-2">
                        <p class="stat-label mb-1">Your Balance:</p>
                        <p class="stat-value">$3.466,9</p>
                    </div>
                    <div class="col-6 reward-col ps-2">
                        <a href="./rewards.html" class="text-decoration-none text-dark d-block">
                            <p class="stat-label mb-1 text-end">Reward</p>
                            <p class="stat-value text-end">
                                <i class="bi bi-gift-fill me-1"></i>
                                307 Point
                            </p>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <main>
        <div class="quick-actions-section container-fluid mt-4 mb-4">
            <div class="row text-center">
                <div class="col-3">
                    <a href="./transfert.html" class="action-item">
                        <div class="action-icon-wrapper">
                            <i class="bi bi-currency-dollar fs-4"></i>
                            <i class="bi bi-arrow-down-up fs-6 transfer-arrow"></i>
                        </div>
                        <p class="mt-2 action-text">Transfer</p>
                    </a>
                </div>
                <div class="col-3">
                    <a href="./topup.html" class="action-item">
                        <div class="action-icon-wrapper">
                            <i class="bi bi-wallet fs-4"></i>
                            <i class="bi bi-currency-dollar fs-6 topup-dollar"></i>
                        </div>
                        <p class="mt-2 action-text">Top up</p>
                    </a>
                </div>
                <div class="col-3">
                    <a href="./card.html" class="action-item">
                        <div class="action-icon-wrapper">
                            <i class="bi bi-credit-card fs-4"></i>
                            <i class="bi bi-credit-card-fill fs-6 card-fill"></i>
                        </div>
                        <div class="mt-2 action-text">Card</div>
                    </a>
                </div>
                <div class=" col-3">
                    <a href="./myqr.html" class="action-item">
                        <div class="action-icon-wrapper">
                            <i class="bi bi-qr-code fs-4"></i>
                            <i class="bi bi-qr-code-scan fs-6 qr-scan"></i>
                        </div>
                        <p class="mt-2 action-text">My QR</p>
                    </a>
                </div>
            </div>
        </div>

        <div class="container-fluid service-header mt-4 px-4">
            <div class="d-flex justify-content-between align-items-center">
                <h4 class="service-title mb-0">Your service</h4>
                <a href="#collapseServices" class="view-all-link" data-bs-toggle="collapse" aria-expanded="false" aria-controls="collapseServices">
                    View All <!-- permet de cacher des élémets sur une page -->
                </a>
            </div>
        </div>

        <div class="container-fluid service-grid mt-3 px-4 collapse show" id="collapseServices">
            <div class="row g-3">
                <div class="col-6 col-md-3">
                    <a href="./mobile.html" class="service-card text-center d-block p-3">
                        <i class="bi bi-phone fs-1 text-info"></i>
                        <p class="mt-2 mb-0">Mobile</p>
                    </a>
                </div>
                <div class="col-6 col-md-3">
                    <a href="./internet.html" class="service-card text-center d-block p-3">
                        <i class="bi bi-wifi fs-1 text-primary"></i>
                        <p class="mt-2 mb-0">Internet</p>
                    </a>
                </div>
                <div class="col-6 col-md-3">
                    <a href="./bill.html" class="service-card text-center d-block p-3">
                        <i class="bi bi-file-earmark-text fs-1 text-secondary"></i>
                        <p class="mt-2 mb-0">Bill</p>
                    </a>
                </div>
                <div class="col-6 col-md-3">
                    <a href="./electricity.html" class="service-card text-center d-block p-3">
                        <i class="bi bi-lightning-charge fs-1 text-warning"></i>
                        <p class="mt-2 mb-0">Electricity</p>
                    </a>
                </div>

                <div class="col-6 col-md-3">
                    <a href="./film.html" class="service-card text-center d-block p-3">
                        <i class="bi bi-film fs-1 text-danger"></i>
                        <p class="mt-2 mb-0">Film</p>
                    </a>
                </div>
                <div class="col-6 col-md-3">
                    <a href="./waterbill.html" class="service-card text-center d-block p-3">
                        <i class="bi bi-droplet fs-1 text-info"></i>
                        <p class="mt-2 mb-0">Water Bill</p>
                    </a>
                </div>
                <div class="col-6 col-md-3">
                    <a href="./voucher.html" class="service-card text-center d-block p-3">
                        <i class="bi bi-percent fs-1 text-success"></i>
                        <p class="mt-2 mb-0">Voucher</p>
                    </a>
                </div>
                <div class="col-6 col-md-3">
                    <a href="./market.html" class="service-card text-center d-block p-3">
                        <i class="bi bi-cart fs-1 text-warning"></i>
                        <p class="mt-2 mb-0">Market</p>
                    </a>
                </div>

            </div>
        </div>
    </main>

    <!-- FOOTER -->
    <footer class="footer mt-5 py-3">
        <div class="d-flex justify-content-around">
            <a href="./home.html" class="text-decoration-none text-muted text-center"><i class="bi bi-house-door-fill fs-4"></i><br>Accueil</a>
            <a href="./bankhistory.html" class="text-decoration-none text-muted text-center"><i class="bi bi-clock-history fs-4"></i><br>Historique</a>
            <a href="./myqr.html" class="text-decoration-none text-muted text-center"><i class="bi bi-qr-code-scan fs-4"></i><br>Mon QR</a>
            <a href="./rewards.html" class="text-decoration-none text-muted text-center"><i class="bi bi-gift fs-4"></i><br>Récompenses</a>
            <a href="./profile.html" class="text-decoration-none text-muted text-center"><i class="bi bi-person fs-4"></i><br>Profile</a>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="../Assets/app.js"></script>

    <script>
        // Gère l'affichage ou le masquage du badge de notification.
        //True pour afficher le badge, False pour le masquer.
        function toggleNotificationBadge(show) {
            // Sélectionne l'élément du badge
            const badge = document.querySelector('.notification-badge');

            if (badge) {
                if (show) {
                    // Retire la classe 'd-none' pour afficher le badge
                    badge.classList.remove('d-none');
                } else {
                    // Ajoute la classe 'd-none' pour masquer le badge
                    badge.classList.add('d-none');
                }
            }
        }

        // Pour afficher le badge au chargement de la page s'il y a des notifications
        toggleNotificationBadge(true);

        // 2. Pour masquer le badge (par exemple, après que l'utilisateur a cliqué et lu les notifications)
        // Décommentez la ligne ci-dessous pour tester le masquage
        toggleNotificationBadge(false);

        //pour masquer le badge lorsque l'utilisateur clique sur l'icône
        const notificationLink = document.querySelector('.notification-link');
        if (notificationLink) {
            notificationLink.addEventListener('click', function(event) {
                // Empêche la redirection immédiate si vous voulez faire d'autres actions
                event.preventDefault();

                // Masque le badge car l'utilisateur va voir les notifications
                toggleNotificationBadge(false);

                // Si vous avez empêché la redirection ci-dessus, vous pouvez la faire ici
                //window.location.href = './notifications.html';
            });
        }
    </script>
</body>

</html>